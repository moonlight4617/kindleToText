# Phase 8: 実機テスト結果

**テスト実施日**: YYYY-MM-DD
**テスト実施者**: [名前]
**テスト環境**: Windows 11 / Python 3.11.5

---

## 環境情報

### ソフトウェアバージョン
- Python: 3.11.5
- Tesseract OCR: [バージョン]
- Kindle for PC: [バージョン]
- その他依存パッケージ: requirements.txt参照

### ハードウェア情報
- CPU: [CPU情報]
- メモリ: [RAM容量]
- ストレージ: [空き容量]

---

## テスト1: 基本動作確認

### テスト内容
10ページの書籍でOCR処理を実行し、基本機能が正常に動作することを確認。

### 実行コマンド
```bash
python main.py --title "テスト書籍" --total-pages 10 --debug
```

### 結果
- [ ] 成功 / [ ] 失敗

### 確認項目
- [ ] Kindleウィンドウが自動検出された
- [ ] スクリーンショットが正常に撮影された
- [ ] ページが自動的に送られた
- [ ] OCRが実行され、テキストが抽出された
- [ ] 進捗バーが表示された
- [ ] テキストファイルが生成された

### 出力ファイル
- スクリーンショット: `output/テスト書籍_screenshots/`
- テキストファイル: `output/テスト書籍.txt`

### OCR精度（目視確認）
- 日本語認識: [ ] 良好 / [ ] 普通 / [ ] 不良
- 英語認識: [ ] 良好 / [ ] 普通 / [ ] 不良
- 特殊文字: [ ] 良好 / [ ] 普通 / [ ] 不良

### 問題・備考
```
[問題があれば記載]
```

---

## テスト2: 中断・再開機能

### テスト内容
処理を途中で中断し、再開機能が正常に動作することを確認。

### 実行手順
1. 20ページで処理開始
```bash
python main.py --title "再開テスト" --total-pages 20
```

2. 5～10ページで Ctrl+C で中断

3. 再開
```bash
python main.py --title "再開テスト" --resume
```

### 結果
- [ ] 成功 / [ ] 失敗

### 確認項目
- [ ] 状態ファイルが保存された (`output/state/再開テスト_state.json`)
- [ ] 中断メッセージが表示された
- [ ] 再開時、前回の続きから処理が開始された
- [ ] テキストが追記モードで保存された
- [ ] 進捗が正しく表示された

### 中断ページ
中断ページ: _____ ページ

### 再開ページ
再開ページ: _____ ページ

### 問題・備考
```
[問題があれば記載]
```

---

## テスト3: エラーハンドリング

### 3-1: Kindleウィンドウ未検出

**テスト内容**: Kindle for PCを起動せずに実行

**実行コマンド**:
```bash
python main.py --title "エラーテスト1" --total-pages 5
```

**結果**: [ ] 成功 / [ ] 失敗

**確認項目**:
- [ ] エラーメッセージが表示された
- [ ] ツールが適切に終了した（クラッシュしなかった）

**問題・備考**:
```
[問題があれば記載]
```

### 3-2: OCRエンジン初期化エラー

**テスト内容**: 無効なOCRエンジンを指定

**結果**: [ ] 成功 / [ ] 失敗

**問題・備考**:
```
[問題があれば記載]
```

---

## テスト4: パラメータ調整

### 4-1: ページ送り遅延

**テスト内容**: 適切な遅延時間を見つける

**テスト結果**:
| 遅延時間（秒） | 結果 | 備考 |
|--------------|------|------|
| 0.5 | [ ] OK / [ ] NG | |
| 1.0 | [ ] OK / [ ] NG | |
| 1.5 | [ ] OK / [ ] NG | |
| 2.0 | [ ] OK / [ ] NG | |

**推奨値**: _____ 秒

### 4-2: 画像前処理

**テスト内容**: 前処理の有効/無効による精度比較

**テスト結果**:
| 前処理 | OCR精度 | 処理時間 | 備考 |
|--------|---------|----------|------|
| なし | ___% | ___秒/ページ | |
| ノイズ除去のみ | ___% | ___秒/ページ | |
| コントラスト調整のみ | ___% | ___秒/ページ | |
| 全て有効 | ___% | ___秒/ページ | |

**推奨設定**:
```yaml
preprocessing:
  noise_reduction:
    enabled: [true/false]
  contrast:
    enabled: [true/false]
  # ... その他
```

---

## テスト5: パフォーマンス測定

### テスト内容
100ページの処理時間とリソース使用量を測定。

### 実行コマンド
```bash
python main.py --title "パフォーマンステスト" --total-pages 100
```

### 結果
- [ ] 成功 / [ ] 失敗

### 測定結果

**処理時間**:
- 総処理時間: _____ 分 _____ 秒
- 1ページあたりの平均時間: _____ 秒
- 最速ページ: _____ 秒
- 最遅ページ: _____ 秒

**処理時間の内訳**（平均）:
- スクリーンショット: _____ 秒
- 画像前処理: _____ 秒
- OCR処理: _____ 秒
- ファイル書き込み: _____ 秒

**リソース使用量**:
- ピークメモリ使用量: _____ MB
- 平均メモリ使用量: _____ MB
- 平均CPU使用率: _____ %
- ピークCPU使用率: _____ %

### 問題・備考
```
[問題があれば記載]
```

---

## テスト6: OCR精度評価

### テスト内容
10ページのサンプルでOCR精度を定量評価。

### サンプルページ
| ページ | 内容 | 正解文字数 | 正しく認識された文字数 | 認識率 |
|--------|------|-----------|---------------------|--------|
| 1 | 通常テキスト | _____ | _____ | ____% |
| 2 | 小さいフォント | _____ | _____ | ____% |
| 3 | 英語混在 | _____ | _____ | ____% |
| 4 | 図表あり | _____ | _____ | ____% |
| 5 | | _____ | _____ | ____% |
| ... | | | | |

### 総合評価
- **日本語認識率**: _____% (_____ / _____ 文字)
- **英語認識率**: _____% (_____ / _____ 文字)
- **全体認識率**: _____% (_____ / _____ 文字)

### よくある誤認識パターン
```
例: 「力」→「カ」、「O」→「0」、等
```

### 問題・備考
```
[問題があれば記載]
```

---

## テスト7: 長時間稼働の安定性

### テスト内容
200ページ以上の処理で安定性を確認。

### 実行コマンド
```bash
python main.py --title "長時間テスト" --total-pages 200
```

### 結果
- [ ] 成功 / [ ] 失敗

### 測定結果
- 処理ページ数: _____ / 200 ページ
- 総処理時間: _____ 時間 _____ 分
- エラー発生回数: _____ 回
- 失敗ページ数: _____ ページ

### メモリリークチェック
- 開始時メモリ: _____ MB
- 50ページ時: _____ MB
- 100ページ時: _____ MB
- 150ページ時: _____ MB
- 終了時メモリ: _____ MB
- メモリリーク: [ ] なし / [ ] あり

### 問題・備考
```
[問題があれば記載]
```

---

## 総合評価

### 実用性評価
- [ ] 実用可能 - 問題なく使用できる
- [ ] 要改善 - いくつかの改善が必要
- [ ] 実用困難 - 重大な問題がある

### 主な成功点
```
[良かった点を記載]
```

### 改善が必要な点
```
[改善が必要な点を記載]
```

### 推奨設定

**config.yaml の推奨値**:
```yaml
kindle:
  page_turn_delay: _____  # 推奨値

preprocessing:
  noise_reduction:
    enabled: [true/false]
  # ... その他

ocr:
  primary_engine: "_____"  # tesseract または yomitoku
```

### 今後の課題・改善案
```
[今後の課題や改善案を記載]
```

---

## 添付資料

### スクリーンショット
- [ ] 正常動作時のスクリーンショット
- [ ] エラー発生時のスクリーンショット
- [ ] 進捗表示のスクリーンショット

### ログファイル
- [ ] 正常実行時のログ
- [ ] エラー発生時のログ

### サンプル出力
- [ ] OCR結果のテキストファイル
- [ ] 状態ファイルのサンプル

---

## 備考・その他
```
[その他の気づきや備考を記載]
```
